<!DOCTYPE html>
<html>
<head>
    <title>Edit Bus – {{ bus.number_plate }}</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; background: #eef1f7; }
        .header {
            background: #004aad; padding: 18px 30px; color: white;
            display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        .header h2 { margin: 0; }
        .header a { color: #dbe7ff; text-decoration: none; margin-left: 16px; font-size: 14px; }
        .container { width: 90%; margin: 25px auto 40px; max-width: 600px; }
        .card {
            background: #ffffff; padding: 22px 24px; border-radius: 10px;
            box-shadow: 0px 3px 8px rgba(0,0,0,0.12);
        }
        label { display: block; font-weight: bold; margin-top: 12px; font-size: 14px; }
        input, select {
            padding: 9px 10px; width: 100%; margin-top: 6px;
            border-radius: 6px; border: 1px solid #c4c4c4; font-size: 14px;
        }
        .checkbox-group { display: flex; align-items: center; margin-top: 10px; }
        .checkbox-group input { width: auto; margin-right: 8px; }
        .checkbox-group label { margin: 0; font-weight: normal; }
        .btn-primary {
            margin-top: 16px; padding: 9px 16px; border-radius: 6px;
            border: none; background: #0275d8; color: white;
            font-size: 14px; cursor: pointer; width: 100%;
        }
        .error { color: #b91c1c; font-size: 13px; margin-top: 10px; }
    </style>
</head>
<body>

<div class="header">
    <h2>Edit Bus – {{ bus.number_plate }}</h2>
    <div>
        <a href="/zonal-admin/buses/">Back to Buses</a>
        <a href="/zonal-admin/">Dashboard</a>
    </div>
</div>

<div class="container">
    <div class="card">
        {% if error %}
            <div class="error">⚠️ {{ error }}</div>
        {% endif %}

        <form method="POST">
            {% csrf_token %}

            <label>Number Plate *</label>
            <input type="text" name="number_plate" value="{{ bus.number_plate }}" required>

            <label>Capacity (seats) *</label>
            <input type="number" name="capacity" value="{{ bus.capacity }}" min="1" required>

            <label>Mileage (km/liter)</label>
            <input type="number" step="0.1" name="mileage" value="{{ bus.mileage }}">

            <label>Service Type *</label>
            <select name="service_type" required>
                {% for value, label in service_types %}
                    <option value="{{ value }}" {% if bus.service_type == value %}selected{% endif %}>
                        {{ label }}
                    </option>
                {% endfor %}
            </select>

            <div class="checkbox-group">
                <input type="checkbox" id="is_active" name="is_active" 
                       {% if bus.is_active %}checked{% endif %}>
                <label for="is_active">Active (available for assignment)</label>
            </div>

            <button type="submit" class="btn-primary">Save Changes</button>
        </form>
    </div>
</div>

</body>
</html>